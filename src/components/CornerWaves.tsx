import React from 'react';

interface CornerWavesProps {
  position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' | 'random';
  variant?: 'purple-teal' | 'purple-silver' | 'red-orange' | 'random';
  opacity?: number;
  size?: 'small' | 'medium' | 'large';
}

const waveVariants = {
  'purple-teal': (
    <svg width="100%" height="100%" viewBox="0 0 1440 690" xmlns="http://www.w3.org/2000/svg" className="transition duration-300 ease-in-out delay-150">
      <style>{`
        .path-0{
          animation:pathAnim-0 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
        @keyframes pathAnim-0{
          0%{
            d: path("M 0,700 L 0,131 C 174.8,134.46666666666667 349.6,137.93333333333334 522,144 C 694.4,150.06666666666666 864.4000000000001,158.73333333333332 1017,182 C 1169.6,205.26666666666668 1304.8,243.13333333333333 1440,281 L 1440,700 L 0,700 Z");
          }
          25%{
            d: path("M 0,700 L 0,131 C 117.33333333333331,153.8 234.66666666666663,176.6 408,195 C 581.3333333333334,213.4 810.6666666666667,227.4 992,241 C 1173.3333333333333,254.6 1306.6666666666665,267.8 1440,281 L 1440,700 L 0,700 Z");
          }
          50%{
            d: path("M 0,700 L 0,131 C 176,163.8 352,196.6 529,193 C 706,189.4 884,149.4 1036,158 C 1188,166.6 1314,223.8 1440,281 L 1440,700 L 0,700 Z");
          }
          75%{
            d: path("M 0,700 L 0,131 C 192.53333333333336,96.06666666666666 385.0666666666667,61.13333333333334 561,66 C 736.9333333333333,70.86666666666666 896.2666666666667,115.53333333333333 1040,158 C 1183.7333333333333,200.46666666666667 1311.8666666666668,240.73333333333335 1440,281 L 1440,700 L 0,700 Z");
          }
          100%{
            d: path("M 0,700 L 0,131 C 174.8,134.46666666666667 349.6,137.93333333333334 522,144 C 694.4,150.06666666666666 864.4000000000001,158.73333333333332 1017,182 C 1169.6,205.26666666666668 1304.8,243.13333333333333 1440,281 L 1440,700 L 0,700 Z");
          }
        }
      `}</style>
      <defs>
        <linearGradient id="gradient1" x1="59%" y1="1%" x2="41%" y2="99%">
          <stop offset="5%" stopColor="#9900ef" />
          <stop offset="95%" stopColor="#00d084" />
        </linearGradient>
      </defs>
      <path d="M 0,700 L 0,131 C 174.8,134.46666666666667 349.6,137.93333333333334 522,144 C 694.4,150.06666666666666 864.4000000000001,158.73333333333332 1017,182 C 1169.6,205.26666666666668 1304.8,243.13333333333333 1440,281 L 1440,700 L 0,700 Z" stroke="none" strokeWidth="0" fill="url(#gradient1)" fillOpacity="0.3" className="transition-all duration-300 ease-in-out delay-150 path-0" />
    </svg>
  ),
  'purple-silver': (
    <svg width="100%" height="100%" viewBox="0 0 1440 490" xmlns="http://www.w3.org/2000/svg" className="transition duration-300 ease-in-out delay-150">
      <style>{`
        .path-1{
          animation:pathAnim-1 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
        @keyframes pathAnim-1{
          0%{
            d: path("M 0,500 L 0,318 C 109.0622009569378,347.89473684210526 218.1244019138756,377.7894736842105 306,364 C 393.8755980861244,350.2105263157895 460.5645933014355,292.7368421052631 555,261 C 649.4354066985645,229.26315789473685 771.6172248803829,223.26315789473685 874,186 C 976.3827751196171,148.73684210526315 1058.9665071770335,80.21052631578947 1150,47 C 1241.0334928229665,13.789473684210533 1340.5167464114834,15.894736842105267 1440,18 L 1440,500 L 0,500 Z");
          }
          25%{
            d: path("M 0,500 L 0,318 C 109.02392344497608,346.17224880382776 218.04784688995215,374.34449760765546 317,350 C 415.95215311004785,325.65550239234454 504.83253588516754,248.79425837320574 578,211 C 651.1674641148325,173.20574162679426 708.6220095693781,174.47846889952152 816,155 C 923.3779904306219,135.52153110047848 1080.6794258373204,95.29186602870814 1193,69 C 1305.3205741626796,42.70813397129186 1372.66028708134,30.35406698564593 1440,18 L 1440,500 L 0,500 Z");
          }
          50%{
            d: path("M 0,500 L 0,318 C 113.78947368421055,321.07177033492826 227.5789473684211,324.14354066985646 322,320 C 416.4210526315789,315.85645933014354 491.47368421052624,304.4976076555024 568,272 C 644.5263157894738,239.50239234449762 722.5263157894738,185.86602870813397 812,152 C 901.4736842105262,118.13397129186602 1002.421052631579,104.03827751196172 1109,85 C 1215.578947368421,65.96172248803828 1327.7894736842104,41.98086124401914 1440,18 L 1440,500 L 0,500 Z");
          }
          75%{
            d: path("M 0,500 L 0,318 C 85.17703349282297,304.14354066985646 170.35406698564594,290.2870813397129 265,294 C 359.64593301435406,297.7129186602871 463.76076555023917,318.9952153110048 580,286 C 696.2392344497608,253.00478468899522 824.6028708133972,165.73205741626793 905,138 C 985.3971291866028,110.26794258373208 1017.8277511961721,142.07655502392345 1099,132 C 1180.1722488038279,121.92344497607655 1310.0861244019138,69.96172248803828 1440,18 L 1440,500 L 0,500 Z");
          }
          100%{
            d: path("M 0,500 L 0,318 C 109.0622009569378,347.89473684210526 218.1244019138756,377.7894736842105 306,364 C 393.8755980861244,350.2105263157895 460.5645933014355,292.7368421052631 555,261 C 649.4354066985645,229.26315789473685 771.6172248803829,223.26315789473685 874,186 C 976.3827751196171,148.73684210526315 1058.9665071770335,80.21052631578947 1150,47 C 1241.0334928229665,13.789473684210533 1340.5167464114834,15.894736842105267 1440,18 L 1440,500 L 0,500 Z");
          }
        }
      `}</style>
      <defs>
        <linearGradient id="gradient2" x1="50%" y1="100%" x2="50%" y2="0%">
          <stop offset="5%" stopColor="#9900ef" />
          <stop offset="95%" stopColor="#abb8c3" />
        </linearGradient>
      </defs>
      <path d="M 0,500 L 0,318 C 109.0622009569378,347.89473684210526 218.1244019138756,377.7894736842105 306,364 C 393.8755980861244,350.2105263157895 460.5645933014355,292.7368421052631 555,261 C 649.4354066985645,229.26315789473685 771.6172248803829,223.26315789473685 874,186 C 976.3827751196171,148.73684210526315 1058.9665071770335,80.21052631578947 1150,47 C 1241.0334928229665,13.789473684210533 1340.5167464114834,15.894736842105267 1440,18 L 1440,500 L 0,500 Z" stroke="none" strokeWidth="0" fill="url(#gradient2)" fillOpacity="0.2" className="transition-all duration-300 ease-in-out delay-150 path-1" />
    </svg>
  ),
  'red-orange': (
    <svg width="100%" height="100%" viewBox="0 0 1440 690" xmlns="http://www.w3.org/2000/svg" className="transition duration-300 ease-in-out delay-150">
      <style>{`
        .path-2{
          animation:pathAnim-2 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
        @keyframes pathAnim-2{
          0%{
            d: path("M 0,700 L 0,325 C 172.53333333333336,303.6666666666667 345.0666666666667,282.33333333333337 500,265 C 654.9333333333333,247.66666666666666 792.2666666666667,234.33333333333331 946,220 C 1099.7333333333333,205.66666666666669 1269.8666666666668,190.33333333333334 1440,175 L 1440,700 L 0,700 Z");
          }
          25%{
            d: path("M 0,700 L 0,325 C 174.2666666666667,361.26666666666665 348.5333333333334,397.5333333333333 523,400 C 697.4666666666666,402.4666666666667 872.1333333333334,371.1333333333334 1025,328 C 1177.8666666666666,284.8666666666666 1308.9333333333334,229.9333333333333 1440,175 L 1440,700 L 0,700 Z");
          }
          50%{
            d: path("M 0,700 L 0,325 C 202.93333333333334,313 405.8666666666667,301 563,296 C 720.1333333333333,291 831.4666666666667,293 970,274 C 1108.5333333333333,254.99999999999997 1274.2666666666667,215 1440,175 L 1440,700 L 0,700 Z");
          }
          75%{
            d: path("M 0,700 L 0,325 C 167.7333333333333,292.2 335.4666666666666,259.4 500,249 C 664.5333333333334,238.6 825.8666666666668,250.6 982,242 C 1138.1333333333332,233.4 1289.0666666666666,204.2 1440,175 L 1440,700 L 0,700 Z");
          }
          100%{
            d: path("M 0,700 L 0,325 C 172.53333333333336,303.6666666666667 345.0666666666667,282.33333333333337 500,265 C 654.9333333333333,247.66666666666666 792.2666666666667,234.33333333333331 946,220 C 1099.7333333333333,205.66666666666669 1269.8666666666668,190.33333333333334 1440,175 L 1440,700 L 0,700 Z");
          }
        }
      `}</style>
      <defs>
        <linearGradient id="gradient3" x1="0%" y1="57%" x2="100%" y2="43%">
          <stop offset="5%" stopColor="#eb144c" />
          <stop offset="95%" stopColor="#ff6900" />
        </linearGradient>
      </defs>
      <path d="M 0,700 L 0,325 C 172.53333333333336,303.6666666666667 345.0666666666667,282.33333333333337 500,265 C 654.9333333333333,247.66666666666666 792.2666666666667,234.33333333333331 946,220 C 1099.7333333333333,205.66666666666669 1269.8666666666668,190.33333333333334 1440,175 L 1440,700 L 0,700 Z" stroke="none" strokeWidth="0" fill="url(#gradient3)" fillOpacity="0.25" className="transition-all duration-300 ease-in-out delay-150 path-2" />
    </svg>
  )
};

export const CornerWaves: React.FC<CornerWavesProps> = ({
  position = 'random',
  variant = 'random',
  opacity = 0.15,
  size = 'small'
}) => {
  const [selectedPosition, setSelectedPosition] = React.useState<string>('top-right');
  const [selectedVariant, setSelectedVariant] = React.useState<string>('purple-teal');

  React.useEffect(() => {
    if (position === 'random') {
      const positions = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
      setSelectedPosition(positions[Math.floor(Math.random() * positions.length)]);
    } else {
      setSelectedPosition(position);
    }

    if (variant === 'random') {
      const variants = ['purple-teal', 'purple-silver', 'red-orange'];
      setSelectedVariant(variants[Math.floor(Math.random() * variants.length)]);
    } else {
      setSelectedVariant(variant);
    }
  }, [position, variant]);

  const sizeClasses = {
    small: 'w-48 h-32',
    medium: 'w-64 h-40',
    large: 'w-80 h-48'
  };

  const positionClasses = {
    'top-left': 'top-0 left-0',
    'top-right': 'top-0 right-0 scale-x-[-1]',
    'bottom-left': 'bottom-0 left-0 scale-y-[-1]',
    'bottom-right': 'bottom-0 right-0 scale-x-[-1] scale-y-[-1]'
  };

  const WaveComponent = waveVariants[selectedVariant as keyof typeof waveVariants];

  return (
    <div 
      className={`fixed pointer-events-none z-0 ${positionClasses[selectedPosition as keyof typeof positionClasses]} ${sizeClasses[size]}`}
      style={{ opacity }}
    >
      {WaveComponent}
    </div>
  );
};